---
layout: default
title: 11. AWS 스토리지 추가 기능
parent: aws
---
# 11. AWS 스토리지 추가 기능
---

AWS Snow Family
안전한 휴대 기기를 가르킨다
데이터를 수집하고 처리하거나 데이터를 AWS안팎으로 마이그레이션 하는데 사용한다

데이터 마이그레이션에 사용되는 기기에는
Snowcone, Snowball Edge, SnowMobile 등 세가지 종류가 있다

엣지 컴퓨팅에는 Snowcone과 Snowball Edge가 있다

왜 마이그레이션하는데 snow family를 사용하는걸까?
snow family는 데이터 마이그레이션을 할 수 있게 해주는 오프라인 기기이다
너무 큰 데이터라 데이터를 전송하는데 일주일 이상 걸린다면 snowball기기를 사용해야한다
기기는 우편을 통해 전달받는다
로컬에서 데이터를 직접 기기에 로딩하고 기기를 다시 aws로 반송한다

snowcone은 아주 작은 휴대 기기이다
snowball이 적합하지 않은경우 snowcone을 사용한다
예를들면 공간 제약이 있는 환경

snowmobile은 실제 트럭이다
snowmobile은 엑사바이트급 데이터를 옮길 수 있다

Snowcone, Snowball Edge, Snowmobile
각각 8TB, 80TB, 100PB

---

엣지 컴퓨팅은 엣지 위치에서 데이터를 생성하는 중에 그 데이터를 처리하는것을 말한다

엣지 위치란 도로위 또는 바다 등등
이곳에서는 데이터를 생성하지만 인터넷이 없어 통신을 못할 수 있다

머신러닝을 위해 gpu 옵션이 제공된다


---

OpsHub

컴퓨터나 노트북에 설치하는 소프트웨어이다
snow family기기에서 실행되는 인스턴스를 시작하고 관리할 수 있다.
또 기기와 메트릭을 모니터링한다


---

snowball은 glacier에 데이터를 직접 끌어올 순 없다

그렇게 하려면 먼저 amazon s3를 사용해서 수명 주기 정책을 생성해서 amazon glacier로 객체를 전환할 수 있다
시험에 나온다 

절차
snowball -> s3 -> glacier

---

## Amazon FSx

AWS에서 완전 관리형 서비스로 타사 고성능 파일 시스템을 실행시킨다

rds에서 aws에 mysql이나 postgres를 실행하는것과 같은 개념이다

으악 보기싫어

---

## 스토리지 gateway

aws에서는 하이브리드 클라우드를 권장한다
이는 일부 인프라는 aws클라우드에 있고 나머지는 그대로 온프레미스에 두는 방식이다

S3는 독점 스토리지 기술이다 (자랑?)
S3데이터를 온프레미스에 두려면 어떻게 해야할까?

AWS strage Gateway가 S3와 온프레미스 인프라를 이어주는 가교 역할을 한다


S3파일 게이트웨이
- S3 버킷에는 원하는 스토리지 클래스를 임의로 사용할 수 있다
- S3 Standard, S3 Standard-IA. S3 One Zone-IA, S3 Intelligent-Tiering 모두 되지만 Glacier는 안 된다
- 객체를 아카이브 하고자하는 경우 S3버킷에 수명 주기 정책을 생성하여 이후 Glacier로 객체를 옮겨 아카이브한다
FSx 파일 게이트웨이
- 비슷하다
- 근데 번거롭게 사용하는 이유는?
- 게이트웨이를 생성하면 자주 액세스하는 데이터의 로컬 캐시를 확보할 수 있다
- 즉 중요한 파일의 로컬 캐시가 회사 데이터 센터에 쌓이고, 액세스 시 지연시간을 단축 시킬 수 있다
볼륨 게이트웨이
- 블록 스토리지로 amazon s가 백업하는 iSCSI 프로토콜을 사용한다
- 필요에 따라 온프레미스 볼륨을 복구할 수 있다
- 캐시볼륨, 저장볼륨 두가지가 있다
테이프 게이트웨이
- 물리적으로 테이프를 사용하는 백업 시스템이 있는 회사가 백업에 테이프 대신 클라우드를 활용해 데이터를 백업할 수 있게 해준다

---

## AWS 전송 제품군

S3 또는 EFS의 안팎으로 데이터를 전송하려는 경우

대신 S3 API는 사용하고 싶지 않을 때 EFS 네트워크 파일 시스템도 사용하지않고,
FTP프로토콜만 사용하려는 경우
전송 제품군을 사용한다

FTP
FTPS
SFTP

시간당 프로비저닝된 엔드 포인트 비용에 전송 제품군 안팎으로 전송된 데이터의 gb당 요금을 더한다

또 서비스 내에서 사용자 자격증명을 저장 및 관리할 수 있다

전송 제품군 서비스 보안을 위해 외부 인증 시스템을 통해서사용자를 인증할 수 있다

---

## Data Snyc

시험에 자주 출제 

데이터를 동기화하며 대용량의 데이터를 한곳에서 다른곳으로 옮길 수 있다

온프레미스나 aws의 다른 클라우드로 데이터를 옮길 수 있다

NFS, SMB, HDFS 또는 다른 프로토콜을 연결해야한다

옮길 위치에는 에이전트가 있어야한다

한aws 서비스에 다른 aws서비스로 데이터를 옮길 수도 있다

이 경우에는 에이전트가 필요 없다

glacier를 포함해 모든 스토리지 클레스에 동기화할 수 있다

복제 작업은 계속 이루어지지 않고 일정을 지정하여 datasync가 매 시간 매일 혹은 매주 실행되도록할 수 있다

파일을 한곳에서 다른곳으로 옮길 때 이를 이용하여 파일의 메타데이터를 보존할 수 있다

에이전트 하나의 테스크가 초당 10gb까지 사용할 수 있다

성능을 초과하고싶지 않다면 대역폭에 제한을 걸 수 있다

