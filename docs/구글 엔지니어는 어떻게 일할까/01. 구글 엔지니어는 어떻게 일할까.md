---
layout: default
title: 01. 구글 엔지니어는 어떻게 일할까
parent: 구글 엔지니어는 어떻게 일할까
---
# 1장
---

### 시간 위를 걷는 프로그래밍
소프트 웨어 언제니어링은 코드를 작성하는 행위에 더하여, 시간의 흐름에 발맞춰 한 조직이 코드를 구축하고 유지보수하는데 관련된 모든것 입니다.

### 개발자께서 "안 돼"라고 말씀하셨다
개발자에게 무언가 요청하면 일단 "안 돼"라고 답하지만, 위에서 '쪼으면' 결국 해낸다는것...
이유는 뭘까?
쪼을수록 개발자들은 '프로그래밍'에 집중하고 '소프트웨어 언지니어링'에서 해야 할 일들을 소홀히 하기 때문입니다.
(테스트 코드, 코드 리뷰, 프로세스 자동화 등)

### 주인을 찾습니다!
쳇바퀴 돌듯 어제와 똑같은 업무 방식, 쌓여만 가는 기술 부채, 데드라인에 쫓겨 단편적인 프로그래밍에서 헤어나오지 못하는 하루하루, 아무도 이런 삶을 꿈꾸지 않습니다.
엔지니어링의 주인이 되어야 이런 삶에서 벗어나, '시간위를 걸어' 원하는 목적지까지 안전하게. 갈 수있습니다.

### 구글은 다르게 일한다
#### 무엇이 다른가?
1. 코드리뷰
2. 버전 관리와 브랜치 전략
3. 문서자료도 코드처럼
4. 테스트 스위트 분류
5. 빌드 시스템
6. 오픈소스st + 비욘세 규칙

##### 코드리뷰
코딩 == 소프트웨어 엔지니어의 핵심 역량
많은 사람이 팀을 이뤄 하나의 소프트웨어를 만들어갑니다. 하지만 서로가 작성한 코드에 대해 이야기 할 . 수있는 수단은 코드리뷰가 거의 유일합니다.
그래서 구글은 코드 리뷰에 심혈을 기울입니다.

|               | 대다수 기업 | 구글                       |
| ------------- | ------ | ------------------------ |
| 리뷰 전 자동검증     | O or X | 정적 분석, (대다수의) 테스트        |
| 테스트 누락시 리뷰 거부 | X      | O                        |
| 리뷰어 역할 구분     | X      | 다른 엔지니어, 코드 소유자, 가동성 인증자 |

구글에서는 3가지 역할의 리뷰어가 승인하여야 변경된 코드를 커밋할 수 있습니다.

| 역할      | 할당                  | 리뷰 관점                        |
| ------- | ------------------- | ---------------------------- |
| 다른 엔지니어 | 팀원                  | 작성자가 의도한 작업을 코드가 적절하게 수행하는가? |
| 코드 소유자  | 테크 리드,<br>해당 기술 전문가 | 체크인해도 될 만큼 변경 코드가 적절한가?      |
| 가독성 인증자 | 가독성 인증자             | 해당 언어의 스타일과 모범 사례를 잘 따르는가?   |

##### 버전 관리와 브랜치 전략

|          | 대다수 기업 | 구글   |
| -------- | ------ | ---- |
| 리포지터리 형태 | 멀티리포   | 모노리포 |
| 원-버전 규칙  | X      | O    |
| 개발 즈랜치   | O      | X    |

구글은 기본적으로 모든 프로젝트를 하나의 리포지터리에서 관리합니다.
그래서 구글의 리포지터리에는 20억 라인이 넘는 코드가 담겨있습니다.

각종 프로젝트에서 사용하는 의존성들(참조 모듈, 서드파티 라이브러리 등) 역시 해당 리포지터리에 두고 모든 의존성의 안정돈 버전을 . 단하나씩만 존재하게 관리합니다.

>버전업이 필요하다면 모든 프로젝트가..?
>그걸 귀찮아하지 않고 진행하는게 소프트웨어 엔지니어?
>일단 일관된 버전을 가져가는걸로 타협하자

##### 문서자료도 코드처럼
문서 자료는 처음엔 멋저보이고 유용하지만, 시간이 지날수록 골칫거리가 되기 쉽습니다.
문서자료는 코드와 달리 동작하지 않아서 문제가 즉시 드러나지 않기 때문입니다.

| 코드              | 문서자료                                     |
| --------------- | ---------------------------------------- |
| 규칙, 지침, 스타일 가이드 | 규칙, 구문 규정, 스타일 가이드                       |
| 소유자 배정          | 소유자 배정                                   |
| 원-버전 규칙         | 주제별 표준 문서 지정                             |
| 버전 관리           | 버전 관리                                    |
| 코드 리뷰           | 변경 시 리뷰<br>(코드와 해당 문서자료를 하나의 변경으로 묶어 처리) |
| 이슈 추적           | 이슈 추적                                    |

구글은 보시다시피 문서자료도 코드처럼 관리합니다.

> 너무빡센데,,, 해외는 한국처럼 일하는 시간이 많지 않은게 확실할까?
> 하다보면 괜찮은가?
> 우리 유닛에 바로 도입하기엔 어려울듯

##### 테스트 스위트 분류

| 일반적인 테스트 분류                   | 구글의 테스트 분류                     |
| ----------------------------- | ------------------------------ |
| 단위 테스트,<br>통합 테스트,<br>시스템 테스트 | 작은 테스트,<br>중간 크기 테스트,<br>큰 테스트 |

>따로 설명이 더 없네..?


##### 빌드 시스템

|           | 대다수 기업                   | 구글                        |
| --------- | ------------------------ | ------------------------- |
| 빌드 시스템 유형 | 태스크 기반                   | 아티펙트 기반                   |
| 대표 도구     | Gradle, Maven, Make, Ant | Blaze, Bazel, Pants, Buck |

태스크 기반 빌드 시스템에서는 결과물을 만들어내는 과정을 스크립트 언어로 명령 하나하나를 기술합니다. 그래서 프로젝트가 커지면 빌드 전담 인력을 두어야 할 만큼 스크립트를 관리하는 일이 복잡해집니다. 아티팩트 기반 빌드는 이 문제를 해결할 수 있으며, 그외의 장점도 있습니다

##### 오픈소스st + 비욘세 규칙

구글은 모든 프로젝트가 사내 엔지니어에게 공개되어 있습니다.
구글의 엔지니어라면 누구든 버그를 패치 할 수 있고 심지어 원하는 기능도 추가 할 수 있습니다.
(리뷰를 통해)

###### 비욘세 규칙
A프로젝트의 코드를 변경하자 A에 의존하는 B프로젝트가 오작동 하기 시작했면
누구의 책임인지를 놓고 논쟁하게 될 것 입니다.
이 상황에서 구글은 '비욘세 규칙'을 적용합니다.

'비욘세 규칙'은 "너에게 중요한 기능이었다면 테스트를 준비했어야지"라고 풀어 이야기할 . 수있는 규칙으로, '싱글 레이디스'의 가사 "네가 진심으로 좋아했다면 반지를 줬어야지"에서 착안했습니다
>ㅋㅋ

B팀이 지속적 통합 시스템에 등록해둔 테스트들이 모두 통과된다면 문제를 해결할 책임은 전적으로 B팀이 집니다. 각 팀은 CI를 믿고 자신들의 제품에 원하는 기능을 자유롭게 추가 할 수 있습니다.

구글은
조급하게 top down으로 바꾸려는 시도 보다는, 실무자들이 스스로 느끼고 따르도록 유도했습니다. 심리적 안전을 토대로 소통하고 함께 배우는 문화를 조성하는데 힘쏟았습니다. 겸손, 존중, 신뢰 위에 위대한 팀을 만들기 위해 노력했습니다.

| 구글                | 안티 패턴                    |
| ----------------- | ------------------------ |
| 지속 가능성            | 눈앞의 데드라인                 |
| 엔지니어 주도 개발 문화     | 임원, 관리자, SE팀 등 비-실무자가 주도 |
| 스스로 느끼고 따르도록      | 하향식                      |
| 심리적 안전, 소통, 함께 성장 | 소통 단절, 개인 성장은 각자도생       |
| 팀워크 중심            | 개인 역량/실적 중심              |

[[02. 구글 엔지니어는 어떻게 일할까]]