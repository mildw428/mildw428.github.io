<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li > a, .site-nav > ul.nav-list:first-child > li > ul > li:not(:nth-child(6)) > a, .site-nav > ul.nav-list:first-child > li > ul > li > ul > li a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(5) > ul > li:nth-child(6) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(5) > button svg, .site-nav > ul.nav-list:first-child > li:nth-child(5) > ul > li:nth-child(6) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(5) > ul.nav-list, .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(5) > ul.nav-list > li.nav-list-item:nth-child(6) > ul.nav-list { display: block; } </style> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>ELB 및 ASG | Minsu.Kim</title> <meta name="generator" content="Jekyll v3.10.0" /> <meta property="og:title" content="ELB 및 ASG" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Hello, world" /> <meta property="og:description" content="Hello, world" /> <link rel="canonical" href="http://localhost:4000/docs/aws/05.%20ELB%20%EB%B0%8F%20ASG.html" /> <meta property="og:url" content="http://localhost:4000/docs/aws/05.%20ELB%20%EB%B0%8F%20ASG.html" /> <meta property="og:site_name" content="Minsu.Kim" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="ELB 및 ASG" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Hello, world","headline":"ELB 및 ASG","url":"http://localhost:4000/docs/aws/05.%20ELB%20%EB%B0%8F%20ASG.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"> Minsu.Kim </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in portfolio category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/portfolio/" class="nav-list-link">portfolio</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/portfolio/GPT%EB%A5%BC%20%ED%99%9C%EC%9A%A9%ED%95%9C%20%EC%B1%97%EB%B4%87%20%EA%B8%B0%EB%8A%A5%20%EA%B0%9C%EB%B0%9C.html" class="nav-list-link">GPT를 활용한 챗봇 기능 개발</a></li><li class="nav-list-item"><a href="/docs/portfolio/spring%20cloud%20function%20%EC%82%AC%EC%9A%A9,%20%EC%97%91%EC%85%80%20%EC%83%9D%EC%84%B1%EC%9A%A9%20Lambda%20%EA%B0%9C%EB%B0%9C.html" class="nav-list-link">spring cloud function 사용, 엑셀 생성용 Lambda 개발</a></li><li class="nav-list-item"><a href="/docs/portfolio/%EB%A9%80%ED%8B%B0%ED%85%8C%EB%84%8C%ED%8A%B8%20%EB%8F%99%EA%B8%B0%ED%99%94%20%EA%B0%9C%EC%84%A0.html" class="nav-list-link">멀티테넌트 동기화 개선</a></li><li class="nav-list-item"><a href="/docs/portfolio/%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4%20%EC%84%A4%EA%B3%84%20-%20%EC%9D%B8%EC%82%AC%20%ED%8F%89%EA%B0%80%20%EA%B4%80%EB%A6%AC%20%EC%84%9C%EB%B9%84%EC%8A%A4.html" class="nav-list-link">소프트웨어 설계 - 인사 평가 관리 서비스</a></li><li class="nav-list-item"><a href="/docs/portfolio/%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4%20%EC%84%A4%EA%B3%84%20-%20%EC%9D%B8%EC%82%AC%20%ED%8F%89%EA%B0%80%20%EC%9D%91%EC%8B%9C%20%EC%84%9C%EB%B9%84%EC%8A%A4.html" class="nav-list-link">소프트웨어 설계 - 인사 평가 응시 서비스</a></li><li class="nav-list-item"><a href="/docs/portfolio/%ED%8C%8C%EC%9D%BC%20%EB%8B%A4%EC%9A%B4%EB%A1%9C%EB%93%9C%20%EC%84%B1%EB%8A%A5%20%EA%B0%9C%EC%84%A0.html" class="nav-list-link">파일 다운로드 성능 개선</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in 오브젝트 category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8/" class="nav-list-link">오브젝트</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8/01.%20%EA%B0%9D%EC%B2%B4,%20%EC%84%A4%EA%B3%84.html" class="nav-list-link">01. 객체, 설계</a></li><li class="nav-list-item"><a href="/docs/%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8/02.%20%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5%20%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D.html" class="nav-list-link">02. 객체지향 프로그래밍</a></li><li class="nav-list-item"><a href="/docs/%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8/03.%20%EC%97%AD%ED%95%A0,%20%EC%B1%85%EC%9E%84,%20%ED%98%91%EB%A0%A5.html" class="nav-list-link">03. 역할, 책임, 협력</a></li><li class="nav-list-item"><a href="/docs/%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8/04.%20%EC%84%A4%EA%B3%84%20%ED%92%88%EC%A7%88%EA%B3%BC%20%ED%8A%B8%EB%A0%88%EC%9D%B4%EB%93%9C%EC%98%A4%ED%94%84.html" class="nav-list-link">04. 설계 품질과 트레이드오프</a></li><li class="nav-list-item"><a href="/docs/%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8/05.%20%EC%B1%85%EC%9E%84%20%ED%95%A0%EB%8B%B9%ED%95%98%EA%B8%B0.html" class="nav-list-link">05. 책임 할당하기</a></li><li class="nav-list-item"><a href="/docs/%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8/06.%20%EB%A9%94%EC%8B%9C%EC%A7%80%EC%99%80%20%EC%9D%B8%ED%84%B0%ED%8E%98%EC%9D%B4%EC%8A%A4.html" class="nav-list-link">06. 메시지와 인터페이스</a></li><li class="nav-list-item"><a href="/docs/%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8/07.%20%EA%B0%9D%EC%B2%B4%20%EB%B6%84%ED%95%B4.html" class="nav-list-link">07. 객체 분해</a></li><li class="nav-list-item"><a href="/docs/%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8/08.%20%EC%9D%98%EC%A1%B4%EC%84%B1%20%EA%B4%80%EB%A6%AC%ED%95%98%EA%B8%B0.html" class="nav-list-link">08. 의존성 관리하기</a></li><li class="nav-list-item"><a href="/docs/%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8/09.%20%EC%9C%A0%EC%97%B0%ED%95%9C%20%EC%84%A4%EA%B3%84.html" class="nav-list-link">09. 유연한 설계</a></li><li class="nav-list-item"><a href="/docs/%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8/10.%20%EC%83%81%EC%86%8D%EA%B3%BC%20%EC%BD%94%EB%93%9C%20%EC%9E%AC%EC%82%AC%EC%9A%A9.html" class="nav-list-link">10. 상속과 코드 재사용</a></li><li class="nav-list-item"><a href="/docs/%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8/11.%20%ED%95%A9%EC%84%B1%EA%B3%BC%20%EC%9C%A0%EC%97%B0%ED%95%9C%20%EC%84%A4%EA%B3%84.html" class="nav-list-link">11. 합성과 유연한 설계</a></li><li class="nav-list-item"><a href="/docs/%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8/12.%20%EB%8B%A4%ED%98%95%EC%84%B1.html" class="nav-list-link">12. 다형성</a></li><li class="nav-list-item"><a href="/docs/%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8/13.%20%EC%84%9C%EB%B8%8C%ED%81%B4%EB%9E%98%EC%8B%B1%EA%B3%BC%20%EC%84%9C%EB%B8%8C%ED%83%80%EC%9D%B4%ED%95%91.html" class="nav-list-link">13. 서브클래싱과 서브타이핑</a></li><li class="nav-list-item"><a href="/docs/%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8/14.%20%EC%9D%BC%EA%B4%80%EC%84%B1%20%EC%9E%88%EB%8A%94%20%ED%98%91%EB%A0%A5.html" class="nav-list-link">14. 일관성 있는 협력</a></li><li class="nav-list-item"><a href="/docs/%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8/15.%20%EB%94%94%EC%9E%90%EC%9D%B8%20%ED%8C%A8%ED%84%B4%EA%B3%BC%20%ED%94%84%EB%A0%88%EC%9E%84%EC%9B%8C%ED%81%AC.html" class="nav-list-link">15. 디자인 패턴과 프레임워크</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in 구글 엔지니어는 어떻게 일할까 category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/%EA%B5%AC%EA%B8%80%20%EC%97%94%EC%A7%80%EB%8B%88%EC%96%B4%EB%8A%94%20%EC%96%B4%EB%96%BB%EA%B2%8C%20%EC%9D%BC%ED%95%A0%EA%B9%8C/" class="nav-list-link">구글 엔지니어는 어떻게 일할까</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/%EA%B5%AC%EA%B8%80%20%EC%97%94%EC%A7%80%EB%8B%88%EC%96%B4%EB%8A%94%20%EC%96%B4%EB%96%BB%EA%B2%8C%20%EC%9D%BC%ED%95%A0%EA%B9%8C/01.%20%EA%B5%AC%EA%B8%80%20%EC%97%94%EC%A7%80%EB%8B%88%EC%96%B4%EB%8A%94%20%EC%96%B4%EB%96%BB%EA%B2%8C%20%EC%9D%BC%ED%95%A0%EA%B9%8C.html" class="nav-list-link">01. 구글 엔지니어는 어떻게 일할까</a></li><li class="nav-list-item"><a href="/docs/%EA%B5%AC%EA%B8%80%20%EC%97%94%EC%A7%80%EB%8B%88%EC%96%B4%EB%8A%94%20%EC%96%B4%EB%96%BB%EA%B2%8C%20%EC%9D%BC%ED%95%A0%EA%B9%8C/02.%20%EA%B5%AC%EA%B8%80%20%EC%97%94%EC%A7%80%EB%8B%88%EC%96%B4%EB%8A%94%20%EC%96%B4%EB%96%BB%EA%B2%8C%20%EC%9D%BC%ED%95%A0%EA%B9%8C.html" class="nav-list-link">02. 구글 엔지니어는 어떻게 일할까</a></li><li class="nav-list-item"><a href="/docs/%EA%B5%AC%EA%B8%80%20%EC%97%94%EC%A7%80%EB%8B%88%EC%96%B4%EB%8A%94%20%EC%96%B4%EB%96%BB%EA%B2%8C%20%EC%9D%BC%ED%95%A0%EA%B9%8C/03.%20%EA%B5%AC%EA%B8%80%20%EC%97%94%EC%A7%80%EB%8B%88%EC%96%B4%EB%8A%94%20%EC%96%B4%EB%96%BB%EA%B2%8C%20%EC%9D%BC%ED%95%A0%EA%B9%8C.html" class="nav-list-link">03. 구글 엔지니어는 어떻게 일할까</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in 가상면접 사례로 배우는 대규모 시스템 설계 기초 category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/%EA%B0%80%EC%83%81%EB%A9%B4%EC%A0%91%20%EC%82%AC%EB%A1%80%EB%A1%9C%20%EB%B0%B0%EC%9A%B0%EB%8A%94%20%EB%8C%80%EA%B7%9C%EB%AA%A8%20%EC%8B%9C%EC%8A%A4%ED%85%9C%20%EC%84%A4%EA%B3%84%20%EA%B8%B0%EC%B4%88/" class="nav-list-link">가상면접 사례로 배우는 대규모 시스템 설계 기초</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/%EA%B0%80%EC%83%81%EB%A9%B4%EC%A0%91%20%EC%82%AC%EB%A1%80%EB%A1%9C%20%EB%B0%B0%EC%9A%B0%EB%8A%94%20%EB%8C%80%EA%B7%9C%EB%AA%A8%20%EC%8B%9C%EC%8A%A4%ED%85%9C%20%EC%84%A4%EA%B3%84%20%EA%B8%B0%EC%B4%88/01.%20%EC%82%AC%EC%9A%A9%EC%9E%90%20%EC%88%98%EC%97%90%20%EB%94%B0%EB%A5%B8%20%EA%B7%9C%EB%AA%A8%20%ED%99%95%EC%9E%A5%EC%84%B1.html" class="nav-list-link">01. 사용자 수에 따른 규모 확장성</a></li><li class="nav-list-item"><a href="/docs/%EA%B0%80%EC%83%81%EB%A9%B4%EC%A0%91%20%EC%82%AC%EB%A1%80%EB%A1%9C%20%EB%B0%B0%EC%9A%B0%EB%8A%94%20%EB%8C%80%EA%B7%9C%EB%AA%A8%20%EC%8B%9C%EC%8A%A4%ED%85%9C%20%EC%84%A4%EA%B3%84%20%EA%B8%B0%EC%B4%88/02.%20%EA%B0%9C%EB%9E%B5%EC%A0%81%EC%9D%B8%20%EA%B7%9C%EB%AA%A8%20%EC%B6%94%EC%A0%95.html" class="nav-list-link">02. 개략적인 규모 추정</a></li><li class="nav-list-item"><a href="/docs/%EA%B0%80%EC%83%81%EB%A9%B4%EC%A0%91%20%EC%82%AC%EB%A1%80%EB%A1%9C%20%EB%B0%B0%EC%9A%B0%EB%8A%94%20%EB%8C%80%EA%B7%9C%EB%AA%A8%20%EC%8B%9C%EC%8A%A4%ED%85%9C%20%EC%84%A4%EA%B3%84%20%EA%B8%B0%EC%B4%88/04.%20%EC%B2%98%EB%A6%AC%EC%9C%A8%20%EC%A0%9C%ED%95%9C%20%EC%9E%A5%EC%B9%98%EC%9D%98%20%EC%84%A4%EA%B3%84.html" class="nav-list-link">04. 처리율 제한 장치의 설계</a></li><li class="nav-list-item"><a href="/docs/%EA%B0%80%EC%83%81%EB%A9%B4%EC%A0%91%20%EC%82%AC%EB%A1%80%EB%A1%9C%20%EB%B0%B0%EC%9A%B0%EB%8A%94%20%EB%8C%80%EA%B7%9C%EB%AA%A8%20%EC%8B%9C%EC%8A%A4%ED%85%9C%20%EC%84%A4%EA%B3%84%20%EA%B8%B0%EC%B4%88/05.%20%EC%95%88%EC%A0%95%20%ED%95%B4%EC%8B%9C%20%EC%84%A4%EA%B3%84.html" class="nav-list-link">05. 안정 해시 설계</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in aws category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/aws/" class="nav-list-link">aws</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in 실습 category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/aws/%EC%8B%A4%EC%8A%B5/" class="nav-list-link">실습</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/aws/%EC%8B%A4%EC%8A%B5/AWS%20%EC%BD%94%EC%96%B4%20%EC%84%9C%EB%B9%84%EC%8A%A4%EB%A1%9C%20%EA%B0%84%EB%8B%A8%ED%95%9C%20%EC%9B%B9%20%EC%95%A0%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98%20%EB%A7%8C%EB%93%A4%EA%B8%B0.html" class="nav-list-link">AWS 코어 서비스로 간단한 웹 애플리케이션 만들기</a></li><li class="nav-list-item"><a href="/docs/aws/%EC%8B%A4%EC%8A%B5/CICD.html" class="nav-list-link">CICD</a></li><li class="nav-list-item"><a href="/docs/aws/%EC%8B%A4%EC%8A%B5/Serverless.html" class="nav-list-link">Serverless</a></li><li class="nav-list-item"><a href="/docs/aws/%EC%8B%A4%EC%8A%B5/%EA%B0%80%EC%83%81%EC%9D%98%20%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC%20%ED%99%98%EA%B2%BD%20%EA%B5%AC%EC%B6%95.html" class="nav-list-link">가상의 네트워크 환경 구축</a></li></ul></li><li class="nav-list-item"><a href="/docs/aws/01.%20IAM.html" class="nav-list-link">01. IAM</a></li><li class="nav-list-item"><a href="/docs/aws/02.%20EC2.html" class="nav-list-link">02. EC2</a></li><li class="nav-list-item"><a href="/docs/aws/03.%20EC2%20-%20associate%20level.html" class="nav-list-link">03. EC2 - associate level</a></li><li class="nav-list-item"><a href="/docs/aws/04.%20EC2%20-%20EBS.html" class="nav-list-link">04. EC2 - EBS</a></li><li class="nav-list-item"><a href="/docs/aws/05.%20ELB%20%EB%B0%8F%20ASG.html" class="nav-list-link">05. ELB 및 ASG</a></li><li class="nav-list-item"><a href="/docs/aws/06.%20RDS.html" class="nav-list-link">06. RDS</a></li><li class="nav-list-item"><a href="/docs/aws/07.%20Route53.html" class="nav-list-link">07. Route53</a></li><li class="nav-list-item"><a href="/docs/aws/08.%20%ED%81%B4%EB%9E%98%EC%8B%9D%20%EC%86%94%EB%A3%A8%EC%85%98%20%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98%20%ED%86%A0%EB%A1%A0.html" class="nav-list-link">08. 클래식 솔루션 아키텍처 토론</a></li><li class="nav-list-item"><a href="/docs/aws/09.%20S3.html" class="nav-list-link">09. S3</a></li><li class="nav-list-item"><a href="/docs/aws/10.%20CloudFront.html" class="nav-list-link">10. CloudFront</a></li><li class="nav-list-item"><a href="/docs/aws/11.%20AWS%20%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80%20%EC%B6%94%EA%B0%80%20%EA%B8%B0%EB%8A%A5.html" class="nav-list-link">11. AWS 스토리지 추가 기능</a></li><li class="nav-list-item"><a href="/docs/aws/12.%20SQS,SNS,Kinesis,%20Active%20MQ.html" class="nav-list-link">12. SQS,SNS,Kinesis, Active MQ</a></li><li class="nav-list-item"><a href="/docs/aws/13.%20ECS,%20Fargate,%20ECR%20%EB%B0%8F%20EKS.html" class="nav-list-link">13. ECS, Fargate, ECR 및 EKS</a></li><li class="nav-list-item"><a href="/docs/aws/14.%20%EC%84%9C%EB%B2%84%EB%A6%AC%EC%8A%A4.html" class="nav-list-link">14. 서버리스</a></li><li class="nav-list-item"><a href="/docs/aws/15.%20DB.html" class="nav-list-link">15. DB</a></li><li class="nav-list-item"><a href="/docs/aws/16.%20%EB%8D%B0%EC%9D%B4%ED%84%B0%20%EB%B6%84%EC%84%9D.html" class="nav-list-link">16. 데이터 분석</a></li><li class="nav-list-item"><a href="/docs/aws/17.%20%EB%A8%B8%EC%8B%A0%EB%9F%AC%EB%8B%9D.html" class="nav-list-link">17. 머신러닝</a></li></ul></li><li class="nav-list-item"><a href="/docs/%EA%B0%9D%EC%B2%B4%EC%A7%80%ED%96%A5%EC%9D%98%20%EC%82%AC%EC%8B%A4%EA%B3%BC%20%EC%98%A4%ED%95%B4.html" class="nav-list-link">객체지향의 사실과 오해</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Real MySQL 8.0 category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/mysql/" class="nav-list-link">Real MySQL 8.0</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/mysql/04.%20Real%20MySQL%208.0.html" class="nav-list-link">04. Real MySQL 8.0</a></li><li class="nav-list-item"><a href="/docs/mysql/05.%20Real%20MySQL%208.0.html" class="nav-list-link">05. Real MySQL 8.0</a></li><li class="nav-list-item"><a href="/docs/mysql/06.%20Real%20MySQL%208.0.html" class="nav-list-link">06. Real MySQL 8.0</a></li><li class="nav-list-item"><a href="/docs/mysql/07.%20Real%20MySQL%208.0.html" class="nav-list-link">07. Real MySQL 8.0</a></li><li class="nav-list-item"><a href="/docs/mysql/08.%20Real%20MySQL%208.0.html" class="nav-list-link">08. Real MySQL 8.0</a></li><li class="nav-list-item"><a href="/docs/mysql/09.%20Real%20MySQL%208.0.html" class="nav-list-link">09. Real MySQL 8.0</a></li></ul></li><li class="nav-list-item"><a href="/docs/%EB%8B%A8%EC%9C%84%20%ED%85%8C%EC%8A%A4%ED%8A%B8.html" class="nav-list-link">단위 테스트</a></li><li class="nav-list-item"><a href="/" class="nav-list-link">**김민수 서버 백엔드 엔지니어**</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in git category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/git/" class="nav-list-link">git</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/git/AOP.html" class="nav-list-link">AOP</a></li><li class="nav-list-item"><a href="/docs/git/Async.html" class="nav-list-link">Async</a></li><li class="nav-list-item"><a href="/docs/git/ChainedTransaction.html" class="nav-list-link">ChainedTransaction</a></li><li class="nav-list-item"><a href="/docs/git/CompletableFuture.html" class="nav-list-link">CompletableFuture</a></li><li class="nav-list-item"><a href="/docs/git/Docker.html" class="nav-list-link">Docker</a></li><li class="nav-list-item"><a href="/docs/git/Entity%20Listener.html" class="nav-list-link">Entity Listener</a></li><li class="nav-list-item"><a href="/docs/git/GPT.html" class="nav-list-link">GPT</a></li><li class="nav-list-item"><a href="/docs/git/Generics.html" class="nav-list-link">Generics</a></li><li class="nav-list-item"><a href="/docs/git/HikariCP.html" class="nav-list-link">HikariCP</a></li><li class="nav-list-item"><a href="/docs/git/Init%20Database.html" class="nav-list-link">Init Database</a></li><li class="nav-list-item"><a href="/docs/git/JPA.html" class="nav-list-link">JPA</a></li><li class="nav-list-item"><a href="/docs/git/JPA%20-%20inheritance.html" class="nav-list-link">JPA - inheritance</a></li><li class="nav-list-item"><a href="/docs/git/JWT%20token.html" class="nav-list-link">JWT token</a></li><li class="nav-list-item"><a href="/docs/git/Kafka.html" class="nav-list-link">Kafka</a></li><li class="nav-list-item"><a href="/docs/git/Module%20Project.html" class="nav-list-link">Module Project</a></li><li class="nav-list-item"><a href="/docs/git/Multitenancy.html" class="nav-list-link">Multitenancy</a></li><li class="nav-list-item"><a href="/docs/git/Mybatis.html" class="nav-list-link">Mybatis</a></li><li class="nav-list-item"><a href="/docs/git/POI%20-%20Excel.html" class="nav-list-link">POI - Excel</a></li><li class="nav-list-item"><a href="/docs/git/QueryDsl.html" class="nav-list-link">QueryDsl</a></li><li class="nav-list-item"><a href="/docs/git/RDS%20Proxy%20&%20Lambda%20VPC%20&%20Secret%20Manager.html" class="nav-list-link">RDS Proxy & Lambda VPC & Secret Manager</a></li><li class="nav-list-item"><a href="/docs/git/Redis.html" class="nav-list-link">Redis</a></li><li class="nav-list-item"><a href="/docs/git/Request%20API.html" class="nav-list-link">Request API</a></li><li class="nav-list-item"><a href="/docs/git/Request%20API%20-%20Feign%20Client.html" class="nav-list-link">Request API - Feign Client</a></li><li class="nav-list-item"><a href="/docs/git/Request%20API%20-%20RestTemplate.html" class="nav-list-link">Request API - RestTemplate</a></li><li class="nav-list-item"><a href="/docs/git/Request%20API%20-%20Web%20Client.html" class="nav-list-link">Request API - Web Client</a></li><li class="nav-list-item"><a href="/docs/git/S3%20Bucket.html" class="nav-list-link">S3 Bucket</a></li><li class="nav-list-item"><a href="/docs/git/S3%20Bucket%20-%20%20Life%20Cycle%20Rule.html" class="nav-list-link">S3 Bucket - Life Cycle Rule</a></li><li class="nav-list-item"><a href="/docs/git/S3%20Bucket%20-%20Presigned%20Url.html" class="nav-list-link">S3 Bucket - Presigned Url</a></li><li class="nav-list-item"><a href="/docs/git/Scheduler.html" class="nav-list-link">Scheduler</a></li><li class="nav-list-item"><a href="/docs/git/Spring%20Cloud%20Function.html" class="nav-list-link">Spring Cloud Function</a></li><li class="nav-list-item"><a href="/docs/git/Spring%20Retry.html" class="nav-list-link">Spring Retry</a></li><li class="nav-list-item"><a href="/docs/git/Spring%20Security.html" class="nav-list-link">Spring Security</a></li><li class="nav-list-item"><a href="/docs/git/Swagger%20UI.html" class="nav-list-link">Swagger UI</a></li><li class="nav-list-item"><a href="/docs/git/Template%20Method%20Pattern.html" class="nav-list-link">Template Method Pattern</a></li><li class="nav-list-item"><a href="/docs/git/Utils%20-%20Page%20Rq%20Rs.html" class="nav-list-link">Utils - Page Rq Rs</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in memo category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/memo/" class="nav-list-link">memo</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/memo/DDD%20-%20%EC%9D%B8%ED%84%B0%EB%84%B7%20%EC%A0%95%EB%B3%B4.html" class="nav-list-link">DDD - 인터넷 정보</a></li><li class="nav-list-item"><a href="/docs/memo/DDD%20-%20%EC%B1%85%20%EC%A0%95%EB%B3%B4.html" class="nav-list-link">DDD - 책 정보</a></li><li class="nav-list-item"><a href="/docs/memo/DTO%20pattern.html" class="nav-list-link">DTO pattern</a></li><li class="nav-list-item"><a href="/docs/memo/Design%20Pattern%20-%20Getter%20Setter%20Constructor.html" class="nav-list-link">Design Pattern - Getter Setter Constructor</a></li><li class="nav-list-item"><a href="/docs/memo/JPA%20-%20Batch%20insert%20%EC%84%B1%EB%8A%A5%20%EC%A0%80%ED%95%98.html" class="nav-list-link">JPA - Batch insert 성능 저하</a></li><li class="nav-list-item"><a href="/docs/memo/JPA%20-%20OneToOne%20%EC%84%B1%EB%8A%A5%20%EC%A0%80%ED%95%98.html" class="nav-list-link">JPA - OneToOne 성능 저하</a></li><li class="nav-list-item"><a href="/docs/memo/JWT.html" class="nav-list-link">JWT</a></li><li class="nav-list-item"><a href="/docs/memo/Map%20Struct.html" class="nav-list-link">Map Struct</a></li><li class="nav-list-item"><a href="/docs/memo/Mock.html" class="nav-list-link">Mock</a></li><li class="nav-list-item"><a href="/docs/memo/Mongodb.html" class="nav-list-link">Mongodb</a></li><li class="nav-list-item"><a href="/docs/memo/OIDC.html" class="nav-list-link">OIDC</a></li><li class="nav-list-item"><a href="/docs/memo/csrf.html" class="nav-list-link">csrf</a></li><li class="nav-list-item"><a href="/docs/memo/port%20forwarding.html" class="nav-list-link">port forwarding</a></li><li class="nav-list-item"><a href="/docs/memo/%EC%97%91%EC%85%80%20%EB%8D%B0%EC%9D%B4%ED%84%B0%20%EC%97%85%EB%A1%9C%EB%93%9C%20%EC%84%B1%EB%8A%A5%20%EA%B0%9C%EC%84%A0.html" class="nav-list-link">엑셀 데이터 업로드 성능 개선</a></li></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Minsu.Kim" aria-label="Search Minsu.Kim" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/docs/aws/">aws</a></li> <li class="breadcrumb-nav-list-item"><span>05. ELB 및 ASG</span></li> </ol> </nav> <div id="main-content" class="main-content"> <main> <h1 id="05-elb-및-asg"> <a href="#05-elb-및-asg" class="anchor-heading" aria-labelledby="05-elb-및-asg"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 05. ELB 및 ASG </h1> <hr /> <h2 id="수직-확장성-vertical-scalability"> <a href="#수직-확장성-vertical-scalability" class="anchor-heading" aria-labelledby="수직-확장성-vertical-scalability"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 수직 확장성 Vertical scalability </h2> <p>인스턴스의 크기를 확장 데이터베이스와 같이 분산되지 않은 시스템에서 사용 하드웨어 용량 증가에 한계가 있다</p> <h2 id="수평-확장성---탄력성"> <a href="#수평-확장성---탄력성" class="anchor-heading" aria-labelledby="수평-확장성---탄력성"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 수평 확장성 - 탄력성 </h2> <p>시스템 수를 늘리는 방법 수평 확장을 했다는건 분배 시스템이 있다는것을 의미</p> <h2 id="고가용성"> <a href="#고가용성" class="anchor-heading" aria-labelledby="고가용성"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 고가용성 </h2> <p>고가용성은 수평확장이랑 함께 사용되는 개념이지만 늘 그런것은 아니다</p> <p>고가용성이란 애플리케이션 또는 시스템을 적어도 둘 이상의 aws의 az나 데이터 센터에서 가동중이라는것을 의미</p> <p>고가용성의 목표는 데이터 센터에서의 손실에서 살아남는것으로 센터 하나가 멈춰도 계속 작동이 가능하게끔 하는것이다</p> <p>스케일 아웃 -&gt; 늘림 스케일 인 -&gt; 줄임</p> <p>고가용성은 다중 AZ가 활성화 된 자동 스케일러 그룹이나 로드밸런서에서도 사용된다</p><hr /> <h2 id="로드-밸런싱-load-balancing"> <a href="#로드-밸런싱-load-balancing" class="anchor-heading" aria-labelledby="로드-밸런싱-load-balancing"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 로드 밸런싱 Load Balancing </h2> <p>트래픽을 백엔드나 다운스트림 EC2 인스턴스 또는 서버들로 전달하는 역할을 한다</p> <p>필요한 이유</p> <ul> <li>다운스트림 인스턴스 부하분산</li> <li>다인 액세스 지점(DNS) 노출</li> <li>인스턴스 실패 핸들링</li> <li>HTTPS 트래픽 사용 가능</li> <li>쿠키로 고정도를 강화</li> <li>고가용성</li> <li>클라우드 내에서 개인 트래픽과 공공 트래픽을 분리 할 수 있다.</li> </ul> <p>앨라스틱 로드밸런서는 무조껀 쓰는 편이 좋다 자체 로드 밸런서를 마련하는것 보다 저렴 관리와 확장성 측면에서도 손쉽다 다수의 aws 서비스와 통홥되어있다</p> <p>health check 정상 동작하는지를 체크 포트와 라우트에서 헬스체크가 이루어진다</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>protocol : HTTP
port : 4567
Endpoint : /health
</code></pre></div></div> <p>200을 반환하지않으면 상태가 좋지못한것으로 인식하고 로드밸런서는 해당 인스턴스에 요청을 보내지 않는다.</p> <h2 id="로드밸런서-종류"> <a href="#로드밸런서-종류" class="anchor-heading" aria-labelledby="로드밸런서-종류"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 로드밸런서 종류 </h2> <ul> <li>CLB (classic load balancer) <ul> <li>구형 (2009년 출시)</li> <li>HTTP, HTTPS, TCP, SSL</li> <li><del>권장하지 않음</del></li> <li><del>사용은 가능함</del></li> <li>AWS에서 지원이 곧 끊길예정이며, 콘솔에서 사용할 수 없게된다</li> </ul> </li> <li>ALB (application load balancer) <ul> <li>신형 (2016년에 출시)</li> <li>HTTP, HTTPS, webSocket</li> </ul> </li> <li>NLB (network load balancer) <ul> <li>2017년 출시</li> <li>TCP, TLS, UDP</li> </ul> </li> <li>GWLB (gateway load balancer) <ul> <li>2020년 출시</li> <li>네트워크 레이어에서 사용</li> <li>3게층과 IP 프로토콜에서 작동</li> </ul> </li> </ul> <p>더 많은 기능을 가진 신형 로드 밸런서를 사용하는것을 권장</p> <p>일부 로드밸런서들은 내부에 설정될 수 있어 네트워크에 개인적 접근이 가능하고 웹사이트와 같이 모두에 사용 가능한 외부 공공 로드밸런서도 있다.</p> <h2 id="로드-밸런서-보안-그룹"> <a href="#로드-밸런서-보안-그룹" class="anchor-heading" aria-labelledby="로드-밸런서-보안-그룹"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 로드 밸런서 보안 그룹 </h2> <div class="table-wrapper"><table> <tbody> <tr> <td>유저는 HTTP</td> <td> </td> <td>HTTPS를 사용해 어디서든 로드 밸런서에 접근이 가능</td> </tr> </tbody> </table></div> <p>인스턴스는 로드밸런서로부터 곧장 들어오는 트래픽만 허용해야 하기 때문에 EC2의 보안그룹 규칙은 HTTP에 80포트만 허용하며 IP범위로 허용이 아니라 보안그룹을 허용하도록 설정해야한다</p><hr /> <h2 id="alb"> <a href="#alb" class="anchor-heading" aria-labelledby="alb"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ALB </h2> <ul> <li>7계층, 즉 HTTP 전요 로드 밸런서</li> <li>머신 간 다수 HTTP 애플리케이션의 라우팅에 사용된다. 이런 머신들은 대상 그룹이라는 그룹으로 묶이게 된다</li> <li>HTTP/2 와 WebSocket을 지원한다</li> <li>리다이렉트를 지원 (HTTP -&gt; HTTPS로 리다이렉트가 필요하다면 로드밸런서 영역에서 가능하다.)</li> <li>라우팅 <ul> <li>경로 라우팅 <ul> <li> <div class="table-wrapper"><table> <tbody> <tr> <td>example.com/users</td> <td> </td> <td>example.com/post</td> </tr> </tbody> </table></div> </li> </ul> </li> <li>URL 라우팅 <ul> <li> <div class="table-wrapper"><table> <tbody> <tr> <td>one.example.com</td> <td> </td> <td>other.example.com</td> </tr> </tbody> </table></div> </li> </ul> </li> <li>쿼리 문자열과 헤더기반 라우팅</li> <li>example.com/users?id=123&amp;order=fasle</li> </ul> </li> <li>마이크로 서비스나 컨테이너 기반 애플리케이션에 가장 좋은 로드밸런서이다</li> <li>도커와 ECS의 경우 ALB가 가장 적합한 로드밸런서</li> <li>동적 포트 리다이렉트 가능</li> <li>클래식 로드밸런서의 경우는 인스턴수 갯수만큼 로드밸런서가 필요하다? but ALB는 1개로 처리 가능</li> </ul> <h2 id="alb의-대상-그룹"> <a href="#alb의-대상-그룹" class="anchor-heading" aria-labelledby="alb의-대상-그룹"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ALB의 대상 그룹 </h2> <ul> <li>EC2 (auto scalㄴing group) - HTTP</li> <li>ECS - HTTP</li> <li>lambda - HTTP</li> <li>ip주소들의 앞에도 위치할 수 있다. <ul> <li>꼭 사설 ip만 가능</li> </ul> </li> <li>상태 확인은 대상 그룹 레벨에서 이뤄진다</li> </ul> <p>ABL을 사용하는경우 로드밸런서에 고정 호스트 이름이 부여된다 애플리케이션 서버는 클라이언트의 ip를 직접 보지 못하며 클라이언트의 실제 ip는 X-Forwarded-For라고 불리는 헤더에 삽입된다.</p><hr /> <h2 id="nlb"> <a href="#nlb" class="anchor-heading" aria-labelledby="nlb"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> NLB </h2> <ul> <li>네트워크 로드밸런서는 L4 로드밸런서이므로 TCP와 UDP 트래픽을 다룰 수 있다.</li> <li>성능이 매우 높다</li> <li>초당 수백만건 처리 가능</li> <li>ALB 보다 지연시간 짧음 (alb 400 nlb 100)</li> <li>가용역역별로 하나의 고정 ip를 갖는다</li> <li>탄력적 ip를 사용할 수도 있다</li> <li>1~3개의 ip로만 액세스할 수 있는 애플리케이션을 만들라는 문제가 나오면 nlb 옵션 고려</li> <li>프리티어에 미포함</li> </ul> <p>그룹 유형</p> <ul> <li>ec2</li> <li>ip주소 (프라이빗)</li> <li>alb 앞에도 가능 (nlb로 고정ip를 얻을 수 있음)</li> <li>tcp, http, https 프로토콜 지원</li> </ul><hr /> <p>GWLB</p> <p>L3 계층에서 동작 배포 및 확장과 aws의 타사 네트워크 가상 어플라이언스의 플릿 관리에 사용된다</p> <p>모든 트래픽이 방화벽을 통과하게 하거나 침입 탐지 및 방지 시스템에 사용</p> <p>IDPS나 심층 패킷 분석 시스템 또는 페이로드 조작 가능 (네트워크 수준에서)</p> <p>사용 예제 (중요)</p> <ol> <li>사용자는 게이트웨이로 요청을한다</li> <li>게이트웨이는 들어온 트래픽에 대해 검증을 하는 인스턴스로 보낸다</li> <li>검증이 끝나면 인스턴스는 게이트웨이로 반환한다 (문제가 있는 트래픽은 드롭한다)</li> <li>게이트웨이는 원래 가야할 인스턴스로 트래픽을 전달한다</li> </ol> <p>gwlb의 기능 2가지</p> <ol> <li>투명 네트워크 게이트웨이 (vpc의 모든 트래픽이 gwlb가 되는 단일 엔트리와 출구를 통과한다)</li> <li>대상 그룹의 가상 어플라이언스 집합에 전반적으로 트래픽을 분산해 로드 밸런서가 된다</li> </ol> <p>포트번호는 6081번을 사용한다</p><hr /> <h2 id="sticky-session-고정-세션"> <a href="#sticky-session-고정-세션" class="anchor-heading" aria-labelledby="sticky-session-고정-세션"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Sticky Session (고정 세션) </h2> <ul> <li>로드 밸런서에 2가지(회) 요청을 수행하는 클라이언트가 요청에 응답하기 위해 동일한 백엔드 인스턴스에 요청을 보내도록하는것</li> <li>CLB와 ALB에서 설정 가능</li> <li>원리는 쿠키</li> <li>세션같은 중요한 정보를 잃지 않기 위해 동일한 인스턴스를 사용하도록 한다</li> <li>고정을 활성화 하면 백엔드 ec2 인스턴스 부하에 불균형을 초래할 수 있다</li> <li>일부 인스턴스는 고정 사용자를 갖게된다</li> </ul> <p>쿠키</p> <ul> <li>애플리케이션 <ul> <li>사용자 정의 쿠키 <ul> <li>애플리케이션에서 생성</li> <li>타겟 그룹별로 이름이 생성</li> <li>ALB에서 사용하느 예약어는 사용하면 안됨</li> <li>AWSALB, AWSALBAPP, AWSALBTG</li> </ul> </li> <li>애플리케이션 쿠키 <ul> <li>로드밸런서에서 생성</li> <li>애플리케이션 쿠키는 애플리케이션에서 기간 설정 가능</li> <li>AWSALBAPP</li> </ul> </li> </ul> </li> <li>기간 <ul> <li>로드밸런서에서 생성</li> <li>AWSALB, AWSELB</li> </ul> </li> </ul> <blockquote> <p>AWSALB같은 이름을 외울 필요는 없다</p> </blockquote><hr /> <h2 id="cross-zone-load-balancing"> <a href="#cross-zone-load-balancing" class="anchor-heading" aria-labelledby="cross-zone-load-balancing"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Cross-Zone Load Balancing </h2> <p>교차 영역 로드밸런싱</p> <p>두개의 가용영역에 갯수가 다른 인스턴스가 존재할때 교차 영역 로드밸런싱을 사용하면 모든 인스턴스에 고르게 분산된다</p> <blockquote> <p>좋은데?</p> </blockquote> <ul> <li>alb는 교차 영역 로드밸런서가 기본적으로 켜져있다 (alb의 교차 영역 로드밸런싱은 비용이 들지않는다)</li> <li>대상 그룹에서 비활성화 할 수 있다</li> <li>aws는 데이터를 다은 가용 역역으로 옮길때 비용이 청구되지만, alb는 교차 영역 로드밸런서가 기본 설정이기 때문에 AZ간의 데이터 이동에 비용이 들지 않는다</li> <li>nlb와 gwlb는 기본적으로 꺼져있기 때문에 교차 영역 로드밸런서를 사용하려면 비용이 든다</li> <li>clb는 기본 비활성이고 활성해도 비용이 들지 않는다</li> </ul><hr /> <h2 id="ssl--tls"> <a href="#ssl--tls" class="anchor-heading" aria-labelledby="ssl--tls"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> SSL / TLS </h2> <p>개념</p> <ul> <li>클라이언트와 로드밸런서 사이에 통신하는동안 암호화를 해준다. 이를 in-flight(전송중)암호화 라고한다.</li> <li>송신자와 수신자 측에서만 복호화 할 수 있다</li> <li>SSL은 보안 소켓 계층을 으미하고 연결을 안호화 하는데 사용한다</li> <li>TLS는 새로운 버전의 SSL로 전송 계층 보안을 의미한다</li> <li>최근에는 TLS 인증서가 주로 사용된다. 하지만 사람들은 여전히 SSL이라고 부른다</li> <li>퍼블릭 인증서는 인증기관(CA : Certificate Authorities)에서 발급한다</li> <li>퍼블릭 SSL인증서를 로드 밸런서에 추가하면, 클라이언트와 로드밸런서 사이의 연결을 암호화할 수 있다</li> <li>SSL인증서에는 만료 날짜가 있어서 주기적으로 갱신해 줘야한다</li> <li>HTTPS는 SSL인증서를 써서 암호화해 안전하다는 뜻</li> <li>인터넷을 통해 우리 로드 밸런서로 접속하면, 로드밸런서에서는 내부적으로 SSL 종료를 수행한다</li> <li>백엔드와는 HTTP로 통신한다 (암호화x)</li> <li>하지만 VPC로 이동하는 트래픽은 프라이빗 네트워크를 쓰기 때문에 로드밸런서는 x.509 인증서를 사용하는데, 이걸 SSL 또는 TLS 서버 인증서라고 부른다</li> <li>AWS에는 인증서들을 관리할 수 있는 ACM이라는게 있다 (aws 인증서 관리자를 의미)</li> <li>HTTP리스너를 구성할 때 반드시 HTTPS 리스너로 해야한다 <ul> <li>기본 인증서를 지정해줘야한다</li> <li>다중 도메인을 지원하기 위해 다른 인증서를 추가할 수 있다</li> <li>SNI(서버 이름 지정)라는 걸 써서 접속할 호스트의 이름을 알릴 수 있다</li> </ul> </li> </ul> <h3 id="sni"> <a href="#sni" class="anchor-heading" aria-labelledby="sni"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> SNI </h3> <ul> <li>여러개의 SSL인증서를 하나의 웹 서버에 로드해 하나의 웹 서버가 여러개의 웹 사이트 지원할 수 있게 해준다</li> <li>클라이언트가 대상 서버의 호스트 이름을 지정하도록 한다</li> <li>클라이언트가 접속할 웹사이트를 말했을 때, 서버는 어떤 인증서를 로드해야 하는지 알 수 있다</li> <li>모든 클라이언트가 지원하지 않는다.</li> <li>ALB,NLB, CloudFront에서 동작한다 (CLB 지원x)</li> <li>인증서가 여러개라면 ALB or NLB</li> <li>CLB를 이용해서 여러개의 인증서를 사용하려면 CLB를 여러개 둬야함</li> </ul><hr /> <h2 id="connection-draining"> <a href="#connection-draining" class="anchor-heading" aria-labelledby="connection-draining"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Connection Draining </h2> <p>Deregistration Delay 연결 드레이닝 || 등록 취소 지연</p> <ul> <li>인스턴스를 등록 취소, 혹은 비정상 상태일 때 인스턴스에 어느정도 시간을 주어 in-flight 요청 (활성 요청)을 완료 할 수 있도록 하는 기능</li> <li>설정값이 0이면 비활성과 같다</li> <li>파일 업로드 다운로드와 같은 작업은 처리가 완료되기까지 오래걸리니 드레이닝 시간을 오래 주는것이 좋다</li> <li>1~3600초 까지 가능</li> </ul><hr /> <h2 id="asg"> <a href="#asg" class="anchor-heading" aria-labelledby="asg"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ASG </h2> <p>오토 스케일링 그룹</p> <p>웹사이트 방문자가 갈수록 많아지면서 로드가 바뀔 수 있다 이때 사용</p> <ul> <li>asg는 스케일 아웃 스케일 인 한다</li> <li>최대 최소 갯수를 지정할 수 있다</li> <li>로드 밸런서와 페어링 하는경우 asg에 속한 모든 인스턴스가 로드 밸런서와 연결한다</li> <li>한 인스턴스가 비정상이면 종료하고 새롭게 띄워 연결한다</li> <li>asg는 무료이다</li> <li>asg를 사용하려면 시작 템플릿을 구성해야한다 <ul> <li>시작 템플릿 구성 <ul> <li>ami</li> <li>인스턴스 유형</li> <li>ec2사용자 데이터</li> <li>ebs 볼륨</li> <li>보안 그룹</li> <li>SSH 키 페어</li> <li>ec2 인스턴스의 iam 역할</li> <li>네트워크 및 서브넷 정보</li> <li>로드밸런서 정보 등등</li> <li>asg 최대 최소 크기, 용량 스케일링 정책</li> </ul> </li> </ul> </li> </ul> <p>CloudWatch 경보를 기반으로 asg를 스케일 인 아웃 할 수 있다</p><hr /> <h2 id="asg-조정-정책"> <a href="#asg-조정-정책" class="anchor-heading" aria-labelledby="asg-조정-정책"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ASG 조정 정책 </h2> <p>동적</p> <ul> <li>추적 스케일링 <ul> <li>평균 cpu 사용률을 추적 40%를 유지하도록</li> </ul> </li> <li>단순/단계 스케일링 <ul> <li>전체 asg에 대한 cpu 사용률이 70%를 초과하는 경우 용량은 두 유닛 추가하도록 설정</li> <li>cpu 사용률이 30% 이하로 떨어지면 유닛을 하나 제거</li> <li>cloudwatch를 사용하는 경우 한번에 추가되고 제거되는 유닛을 단계별로 설정하는게 좋다</li> </ul> </li> <li>예측 스케일링 <ul> <li>과거의 로드를 보고 예측이 생성된다</li> <li>머신러닝 기반일것이다</li> </ul> </li> </ul> <p>cpu, 요청수, 평균 네트워크 in out 등등의 지표를 사용</p> <h3 id="스케일링-휴지"> <a href="#스케일링-휴지" class="anchor-heading" aria-labelledby="스케일링-휴지"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 스케일링 휴지 </h3> <p>스케일링 작업이 끝날때마다 기본적으로 5분 또는 300초의 휴지기간을 갖는다. 이때는 asg가 추가 인스턴스를 실행 또는 종료할 수 없다</p> </main> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
